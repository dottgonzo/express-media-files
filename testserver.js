"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("./index");
var express = require("express");
var jwt = require("jsonwebtoken");
var app = express();
var videofolder = __dirname + '/test/video/';
var testprefix = 'kasper';
var testsecret = 'shhhh';
var testtoken = jwt.sign({ prefix: testprefix }, testsecret);
app.use('/', index_1.default(videofolder));
app.use('/restricted', index_1.default(videofolder, { mode: { type: 'users', secret: testsecret, ignoreExpiration: true } }));
app.get('/testtoken', function (req, res) {
    res.json({ token: testtoken });
});
app.listen(3000);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3RzZXJ2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpQ0FBNEI7QUFDNUIsaUNBQWtDO0FBQ2xDLGtDQUFtQztBQUVuQyxJQUFNLEdBQUcsR0FBRyxPQUFPLEVBQUUsQ0FBQTtBQUVyQixJQUFNLFdBQVcsR0FBRyxTQUFTLEdBQUcsY0FBYyxDQUFBO0FBRTlDLElBQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQTtBQUUzQixJQUFNLFVBQVUsR0FBRyxPQUFPLENBQUE7QUFFMUIsSUFBTSxTQUFTLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQTtBQU85RCxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxlQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQTtBQUNqQyxHQUFHLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxlQUFNLENBQUMsV0FBVyxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFBO0FBRXBILEdBQUcsQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLFVBQVUsR0FBRyxFQUFFLEdBQUc7SUFDcEMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFBO0FBQ2xDLENBQUMsQ0FBQyxDQUFBO0FBRUYsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQSIsImZpbGUiOiJ0ZXN0c2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlciBmcm9tICcuL2luZGV4J1xuaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0ICogYXMgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcblxuY29uc3QgYXBwID0gZXhwcmVzcygpXG5cbmNvbnN0IHZpZGVvZm9sZGVyID0gX19kaXJuYW1lICsgJy90ZXN0L3ZpZGVvLydcblxuY29uc3QgdGVzdHByZWZpeCA9ICdrYXNwZXInXG5cbmNvbnN0IHRlc3RzZWNyZXQgPSAnc2hoaGgnXG5cbmNvbnN0IHRlc3R0b2tlbiA9IGp3dC5zaWduKHsgcHJlZml4OiB0ZXN0cHJlZml4IH0sIHRlc3RzZWNyZXQpXG5cblxuXG5cbi8vIGNvbnNvbGUubG9nKHZpZGVvZm9sZGVyKVxuXG5hcHAudXNlKCcvJywgcm91dGVyKHZpZGVvZm9sZGVyKSlcbmFwcC51c2UoJy9yZXN0cmljdGVkJywgcm91dGVyKHZpZGVvZm9sZGVyLCB7IG1vZGU6IHsgdHlwZTogJ3VzZXJzJywgc2VjcmV0OiB0ZXN0c2VjcmV0LCBpZ25vcmVFeHBpcmF0aW9uOiB0cnVlIH0gfSkpXG5cbmFwcC5nZXQoJy90ZXN0dG9rZW4nLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgICByZXMuanNvbih7IHRva2VuOiB0ZXN0dG9rZW4gfSlcbn0pXG5cbmFwcC5saXN0ZW4oMzAwMClcbiJdfQ==
